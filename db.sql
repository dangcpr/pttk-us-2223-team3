CREATE DATABASE QUANLYKHACHSAN
GO

USE QUANLYKHACHSAN
GO

DROP TABLE IF EXISTS TAI_KHOAN
GO

INSERT INTO TAI_KHOAN (USERNAME, PASSWORD, ROLE) VALUES ('bellman1', '123', N'Bellman');
INSERT INTO TAI_KHOAN (USERNAME, PASSWORD, ROLE) VALUES ('bellman2', '123', N'Bellman');
INSERT INTO TAI_KHOAN (USERNAME, PASSWORD, ROLE) VALUES ('bellman3', '123', N'Bellman');
INSERT INTO TAI_KHOAN (USERNAME, PASSWORD, ROLE) VALUES ('khachhang1', '123', N'Khách hàng');
INSERT INTO TAI_KHOAN (USERNAME, PASSWORD, ROLE) VALUES ('khachhang2', '123', N'Khách hàng');
INSERT INTO TAI_KHOAN (USERNAME, PASSWORD, ROLE) VALUES ('khachhang3', '123', N'Khách hàng');
INSERT INTO TAI_KHOAN (USERNAME, PASSWORD, ROLE) VALUES ('doan1', '123', N'Khách hàng');
INSERT INTO TAI_KHOAN (USERNAME, PASSWORD, ROLE) VALUES ('doan2', '123', N'Khách hàng');
INSERT INTO TAI_KHOAN (USERNAME, PASSWORD, ROLE) VALUES ('letan1', '123', N'Lễ tân');
INSERT INTO TAI_KHOAN (USERNAME, PASSWORD, ROLE) VALUES ('letan2', '123', N'Lễ tân');
INSERT INTO TAI_KHOAN (USERNAME, PASSWORD, ROLE) VALUES ('letan3', '123', N'Lễ tân');



ALTER TABLE THONG_TIN_KHACH_HANG ADD CONSTRAINT PK_THONG_TIN_KHACH_HANG PRIMARY KEY (MAKHACHHANG);
GO

INSERT INTO THONG_TIN_KHACH_HANG (MA_KHACH_HANG , HO_TEN , DIA_CHI, CCCD, SDT) VALUES ('khachhang1', N'Lê Minh Trí', N'TP Hồ Chí Minh', '078223051256'  ,'0933491044');
INSERT INTO THONG_TIN_KHACH_HANG (MA_KHACH_HANG , HO_TEN , DIA_CHI, CCCD, SDT) VALUES ('khachhang2', N'Nguyễn Lê Hải Đăng', N'TP Hà Nội', '029302511692'  ,'0934591051');
INSERT INTO THONG_TIN_KHACH_HANG (MA_KHACH_HANG , HO_TEN , DIA_CHI, CCCD, SDT) VALUES ('khachhang3', N'Trần Minh Triết', N'TP Đà nẵng', '045206091294'  ,'0931791142');
GO

ALTER TABLE THONG_TIN_KHACH_DOAN ADD CONSTRAINT PK_THONG_TIN_KHACH_DOAN PRIMARY KEY (MADOAN);
GO

INSERT INTO THONG_TIN_KHACH_DOAN (MA_DOAN, TEN_DOAN, SO_FAX, SO_LUONG) VALUES ('doan1', N'Đoàn du lịch Vintour', '0399452046', 1);
INSERT INTO THONG_TIN_KHACH_DOAN (MA_DOAN, TEN_DOAN, SO_FAX, SO_LUONG) VALUES ('doan2', N'Đoàn du lịch Suntour', '0399514652', 2);

DROP TABLE IF EXISTS CHI_TIET_KHACH_DOAN
GO

CREATE TABLE CHI_TIET_KHACH_DOAN (
	MAKHACHHANG INT NOT NULL,
	MADOAN INT NOT NULL
);
GO

ALTER TABLE CHI_TIET_KHACH_DOAN ADD CONSTRAINT PK_CHI_TIET_KHACH_DOAN PRIMARY KEY (MAKHACHHANG, MADOAN);
GO

INSERT INTO CHI_TIET_KHACH_DOAN (MA_KHACH_HANG, MA_DOAN) VALUES ('khachhang1', 'doan1');
INSERT INTO CHI_TIET_KHACH_DOAN (MA_KHACH_HANG, MA_DOAN) VALUES ('khachhang2', 'doan2');
INSERT INTO CHI_TIET_KHACH_DOAN (MA_KHACH_HANG, MA_DOAN) VALUES ('khachhang3', 'doan2');

DROP TABLE IF EXISTS THONG_TIN_PHONG_KHACH_SAN
GO

CREATE TABLE THONG_TIN_PHONG_KHACH_SAN (
	MAPHONG INT NOT NULL IDENTITY,
	NGAYTHUE DATE,
	NGAYTRA DATE,
	TINHTRANG NVARCHAR(255) NOT NULL,
	LOAI NVARCHAR(255) NOT NULL
);
GO

ALTER TABLE THONG_TIN_PHONG_KHACH_SAN ADD CONSTRAINT PK_THONG_TIN_PHONG_KHACH_SAN PRIMARY KEY (MAPHONG);
GO

INSERT INTO THONG_TIN_PHONG_KHACH_SAN (TINH_TRANG, LOAI_PHONG, GIA_TIEN) VALUES (N'Trống', N'Thường', 300000);
INSERT INTO THONG_TIN_PHONG_KHACH_SAN (TINH_TRANG, LOAI_PHONG, GIA_TIEN) VALUES (N'Trống', N'Thường', 300000);
INSERT INTO THONG_TIN_PHONG_KHACH_SAN (TINH_TRANG, LOAI_PHONG, GIA_TIEN) VALUES (N'Trống', N'Vip', 400000);
INSERT INTO THONG_TIN_PHONG_KHACH_SAN (TINH_TRANG, LOAI_PHONG, GIA_TIEN) VALUES (N'Trống', N'Vip', 400000);
INSERT INTO THONG_TIN_PHONG_KHACH_SAN (TINH_TRANG, LOAI_PHONG, GIA_TIEN) VALUES (N'Trống', N'Vip', 300000);
SELECT * FROM THONG_TIN_PHONG_KHACH_SAN
DROP TABLE IF EXISTS THONG_TIN_DAT_PHONG
GO


--INSERT INTO THONG_TIN_DAT_PHONG (MA_PHONG, MA_KHACH_HANG, MA_NHAN_VIEN, NGAY_DAT, NGAY_CHECK_IN, NGAY_CHECK_OUT) VALUES (3, 'khachhang2', 'letan2', '2023-5-26', '2023-6-2', '2023-6-4');
--GO
--UPDATE THONG_TIN_PHONG_KHACH_SAN SET TINHTRANG = N'Hết' WHERE MAPHONG = 3;

--SELECT * FROM THONG_TIN_PHONG_KHACH_SAN

